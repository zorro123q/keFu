{% extends "base.html" %}

{% if template %}
    {% set page_title = '编辑话术模板' %}
{% else %}
    {% set page_title = '添加话术模板' %}
{% endif %}

{% block title %}{{ page_title }} - 自动化营销平台{% endblock %}

{% block content %}
<h1>{{ page_title }}</h1>
<form method="post" action="{% if template %}/templates/edit/{{ template.id }}{% else %}/templates/add{% endif %}">
    <div class="form-group">
        <label>模板名称：</label>
        <input type="text" name="name" value="{{ template.name if template else '' }}" required>
    </div>
    <div class="form-group">
        <label>话术内容：</label>
        <textarea name="content" rows="5" required>{{ template.content if template else '' }}</textarea>
        <small>可使用变量：{客户姓名}、{行业}、{公司}</small>
    </div>
    <div class="form-group">
        <label>类型：</label>
        <input type="text" name="type" value="{{ template.type if template else '' }}">
    </div>
    <div class="form-group">
        <label>场景：</label>
        <input type="text" name="scene" value="{{ template.scene if template else '' }}">
    </div>
    <div class="form-group">
        <label>启用状态：</label>
        <select name="is_active">
            <option value="1" {% if not template or template.is_active %}selected{% endif %}>启用</option>
            <option value="0" {% if template and not template.is_active %}selected{% endif %}>停用</option>
        </select>
    </div>
    <button type="submit">保存</button>
</form>
{% endblock %}